<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tiered Pricing Calculator</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
<style>
  body { font-family:'Open Sans',sans-serif; margin:20px; background:#f7f7f7; }
  input, button { width:100%; padding:8px; margin:5px 0; font-size:16px; border:1px solid #ccc; border-radius:4px; box-sizing:border-box;}
  button { background:#4285F4; color:white; border:none; cursor:pointer; }
  button:hover { background:#357ae8; }
  .result { background:#fff; padding:15px; margin-top:20px; border-radius:4px; box-shadow:0 2px 4px rgba(0,0,0,.1); }
  h2 { color:#4285F4; }
  label { font-weight:bold; }
</style>
</head>
<body>
  <h2>Tiered Pricing Calculator</h2>
  <label for="cost">Project Cost ($):</label>
  <input type="text" id="cost" placeholder="e.g. 15000" inputmode="numeric">

  <label for="multiplier">Minimum Multiplier (Ã— cost):</label>
  <input type="text" id="multiplier" placeholder="e.g. 1.4" inputmode="numeric">

  <button id="calcBtn">Calculate Price</button>

  <div id="results" class="result"></div>

<script>
function format(n){return Number(n).toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2});}
function parseInput(id){
  let v = document.getElementById(id).value.replace(/,/g,'');
  return parseFloat(v)||0;
}

function calculate(){
  const cost = parseInput('cost');
  const mult = parseInput('multiplier');
  if(cost<=0 || mult<=0){
    document.getElementById('results').innerHTML = '<p>Please enter valid cost & multiplier.</p>';
    return;
  }

  const minNet = cost * mult;
  const discounts = [0.05,0.10,0.07,0.03,0.02];
  let html = `<h3>Results</h3>
    <p><strong>Minimum Net Revenue:</strong> $${format(minNet)}</p>
    <hr>
    <table style="width:100%;border-collapse:collapse">
      <thead>
        <tr><th style="text-align:left;padding:8px;border-bottom:1px solid #ddd">Discount</th>
            <th style="text-align:right;padding:8px;border-bottom:1px solid #ddd">Charge Price ($)</th></tr>
      </thead><tbody>`;

  discounts.forEach(d=>{
    const price = minNet / (1 - d);
    html += `<tr>
      <td style="padding:8px">${(d*100).toFixed(0)}%</td>
      <td style="padding:8px;text-align:right">$${format(price)}</td>
    </tr>`;
  });

  html += `</tbody></table>`;
  document.getElementById('results').innerHTML = html;
}

document.getElementById('calcBtn').addEventListener('click', calculate);

// Format inputs with commas on blur
['cost','multiplier'].forEach(id=>{
  let el = document.getElementById(id);
  el.addEventListener('focus', ()=>el.value=el.value.replace(/,/g,'')); 
  el.addEventListener('blur', ()=>{ 
    let n = parseFloat(el.value.replace(/,/g,'')); 
    if(!isNaN(n)) el.value = format(n);
  });
});
</script>
</body>
</html>
